import{a as p}from"./chunk-5DPX42N4.js";import{a as R}from"./chunk-ZDJV5RQT.js";import{l as O}from"./chunk-AZMU5PIR.js";import{a as F}from"./chunk-A3GH4UFO.js";import{o as j}from"./chunk-XWZTJY7E.js";import{Db as l,Eb as u,Lb as c,Mb as d,Nb as A,Qa as v,Qb as k,Ua as o,Va as S,Vb as B,Xb as H,aa as a,eb as b,fa as P,ha as x,kb as I,mb as f,nc as M,pa as _,qa as C,qb as y,rb as D,sb as w,tb as E,ub as r,va as h,vb as n,wb as m,zb as T}from"./chunk-6KJ26BVU.js";var z=(()=>{class i{constructor(t){this.el=t,this._ProductService=a(p)}onHover(){i.Img=this.el.nativeElement;var t=i.Img?.getAttribute("src");(t!==null||t!==void 0)&&this._ProductService.MainImageCover.set(t)}static{this.\u0275fac=function(e){return new(e||i)(S(h))}}static{this.\u0275dir=x({type:i,selectors:[["","appProductImages",""]],hostBindings:function(e,s){e&1&&l("mouseenter",function(){return s.onHover()})},standalone:!0})}}return i})();function U(i,g){if(i&1&&m(0,"img",5),i&2){let t=g.$implicit,e=u(2);f("src",t,v)("alt",e.Product().title)}}function G(i,g){if(i&1){let t=T();r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),w(5,U,1,2,"img",5,D),n(),r(7,"div",6),m(8,"img",7),n()()(),r(9,"div",8)(10,"div",9)(11,"h4",10),c(12),n(),r(13,"h6",11),c(14),n(),r(15,"p",12),c(16),n(),r(17,"h6",13),c(18),n(),r(19,"div",14)(20,"p"),c(21),B(22,"currency"),n(),r(23,"p"),m(24,"i",15),c(25),n()(),r(26,"button",16),l("click",function(){_(t);let s=u();return C(s.addProductToCart(s.Product().id))}),c(27," Add to cart "),n()()()()()}if(i&2){let t=u();o(5),E(t.Product().images),o(3),f("src",t.ImageCover(),v)("alt",t.Product().title),o(4),d(t.Product().title),o(2),d(t.Product().category.name),o(2),d(t.Product().brand.name),o(2),d(t.Product().description),o(3),d(H(22,8,t.Product().price,"GBP")),o(4),A(" ",t.Product().ratingsAverage,"")}}var rt=(()=>{class i{constructor(){this._ProductsService=a(p),this._CartService=a(R),this._ActivatedRoute=a(F),this._ToastrService=a(O),this.Product=b({}),this.ImageCover=M(()=>this._ProductsService.MainImageCover())}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{let e=t.get("id");e!==null&&this.getProductDetails(e)}})}addProductToCart(t){this.CartSubscribe=this._CartService.addToCart(t).subscribe({next:e=>{this._CartService.NumberOfCartItems.next(e.numOfCartItems),this._ToastrService.success(e.message,"Amazon")}})}getProductDetails(t){this.ProductDetailsSubscribe=this._ProductsService.getSpecificProductDetails(t).subscribe({next:e=>{this._ProductsService.MainImageCover.set(e.data.imageCover),this.Product?.set(e.data)}})}ngOnDestroy(){this.ProductDetailsSubscribe.unsubscribe()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=P({type:i,selectors:[["app-product-details"]],standalone:!0,features:[k],decls:1,vars:1,consts:[[1,"m-3","border","rounded","p-4"],[1,"row","align-items-center","m-2"],[1,"col-md-4"],[1,"row","g-0"],[1,"col-md-2"],["appProductImages","",1,"w-100","d-block",3,"src","alt"],[1,"col-md-10"],[1,"w-100",3,"src","alt"],[1,"col-md-8"],[1,"card-body"],[1,"my-2","fw-bold"],[1,"card-text","my-2","text-muted"],[1,"text-main","my-2","fw-bold"],[1,"my-2"],[1,"pt-4","d-flex","justify-content-between","align-items-center","w-100"],[1,"bi","text-warning","bi-star-fill"],[1,"btn-main","d-block","ms-auto","my-3",3,"click"]],template:function(e,s){e&1&&I(0,G,28,11,"section",0),e&2&&y(0,s.Product().description!==void 0?0:-1)},dependencies:[j,z]})}}return i})();export{rt as ProductDetailsComponent};
