import{a as P}from"./chunk-EHFWNK2V.js";import{c as B,d as j}from"./chunk-RZXYEYR3.js";import{l as M}from"./chunk-JQIGMMTO.js";import{l as D}from"./chunk-RWSUY4MO.js";import{Ab as I,Bb as u,Ib as o,Jb as a,Kb as F,Nb as T,Oa as v,Sa as r,Sb as c,Tb as d,Ub as E,aa as p,bb as b,da as f,hb as x,jb as S,jc as k,na as W,nb as y,oa as _,pb as g,qb as C,rb as i,sb as s,tb as m,wb as w}from"./chunk-YRFWHIN5.js";var $=(t,l)=>l._id;function z(t,l){if(t&1){let e=w();i(0,"div",1)(1,"div",2),m(2,"img",3),s(),i(3,"div",4)(4,"h6",5),o(5),c(6,"translate"),s(),i(7,"h5",6),o(8),s(),i(9,"h6",7),o(10),c(11,"translate"),s(),i(12,"h5",8),o(13),c(14,"currency"),s()(),i(15,"div",9)(16,"div",10)(17,"button",11),I("click",function(){let h=W(e).$implicit,V=u(2);return _(V.removeWishlistItem(h.id))}),m(18,"i",12),s()()()()}if(t&2){let e=l.$implicit;r(2),S("src",e.imageCover,v)("alt",e.title),r(3),a(d(6,6,e.category.name.toLowerCase())),r(3),a(e.title),r(2),a(d(11,8,e.brand.name.toLowerCase())),r(3),a(E(14,10,e.price,"GBP"))}}function L(t,l){if(t&1&&g(0,z,19,13,"div",1,$),t&2){let e=u();C(e.WishlistDetails().data)}}function O(t,l){t&1&&(i(0,"div",13)(1,"p",14),o(2),c(3,"translate"),m(4,"i",15),s()()),t&2&&(r(2),F("",d(3,1,"wishlist is empty")," "))}var Q=(()=>{class t{constructor(){this._ToastrService=p(M),this._WishlistService=p(P),this.WishlistDetails=b({}),this.isWishlistFound=k(()=>this._WishlistService.IsWishlistFound())}getWishlistWithSubscribe(){this.WishlistSubscribe=this._WishlistService.getUserWishlist().subscribe({next:e=>{this._WishlistService.WishlistNumbers.set(e.count),this.WishlistDetails.set(e),e.status=="success"&&this._WishlistService.IsWishlistFound.set(!0),e.data.length===0&&this._WishlistService.IsWishlistFound.set(!1)}})}ngOnInit(){this.getWishlistWithSubscribe()}removeWishlistItem(e){this.WishlistSubscribe=this._WishlistService.removeFromWishlist(e).subscribe({next:n=>{this._ToastrService.success(n.message,"Amazon"),this.getWishlistWithSubscribe(),n.data.length===0&&this._WishlistService.IsWishlistFound.set(!1)}})}ngOnDestroy(){this.WishlistSubscribe?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-wishlist"]],standalone:!0,features:[T],decls:3,vars:1,consts:[[1,"container","p-5","my-4","bg-body-tertiary","rounded","border","shadow"],[1,"row","my-2","py-2","border","rounded","align-items-center","justify-content-between"],[1,"col-md-2","position-relative"],[1,"w-100","rounded",3,"src","alt"],[1,"col-md-8"],[1,"text-main","my-2"],[1,"text-muted","my-2"],[1,"text-muted","fw-bolder"],[1,"my-2","fw-bolder"],[1,"col-md-2"],[1,"d-flex","justify-content-center","align-items-center"],[1,"btn","p-3","small","btn-secondary",3,"click"],[1,"fa-solid","fa-heart-broken","fa-2xl"],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"text-muted","h2"],[1,"fa-solid","fa-heart-broken"]],template:function(n,h){n&1&&(i(0,"section",0),x(1,L,2,0)(2,O,5,3),s()),n&2&&(r(),y(1,h.isWishlistFound()?1:2))},dependencies:[D,j,B]})}}return t})();export{Q as WishlistComponent};
